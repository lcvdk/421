<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <h1>Le 421</h1>
  <div id="phase" style="color:green;font-size: 1em;"></div>
  <button id="lanceDe">jouer</button>
  <div id="pot"></div>
  <div id="resultat" style="font-size: 2em"></div>
  <div id="message"></div>
  <div id="stock" style="border-color: teal;  border-style: solid;"></div>


  
  <script>
    const jetsDeStock = []
    let potJetons = 21

    const btn = document.getElementById("lanceDe");
    const phase = document.getElementById("phase");
    const pot = document.getElementById("pot");
    const resultat = document.getElementById("resultat");
    const message = document.getElementById("message")
    const afficheJetDestock = document.getElementById("stock");

    pot.innerHTML = potJetons

    btn.addEventListener('click', () => {
      phase.innerHTML = "Phase de Charge"
      let resultatLance = charge(joueur1)

      let affichageInfo = `vous avez obtenu ${resultatLance.resultatTxt[0].name} qui vaut ${resultatLance.resultatTxt[0].nbJeton} jeton(s)`
      

      console.log("resLancé :", resultatLance)
      jetsDeStock.push(resultatLance.sortedCombo)
      resultat.innerHTML = resultatLance.sortedCombo
      message.innerHTML = affichageInfo
      if(jetsDeStock) { afficheJetDestock.innerHTML = `Joué précédemment : ${jetsDeStock}`}
      
      console.log("jets DANS la fonction", jetsDeStock)
      
      potJetons -= resultatLance.resultatTxt[0].nbJeton
      if (potJetons <= 0) potJetons = 0

      pot.innerHTML = potJetons
    })

    
    console.log("jets OUT de la fonction", jetsDeStock)
    
    
    
  </script>
  <script src="combo.api.js" ></script>
  <script src="main.js" ></script>
 
</body>
</html>